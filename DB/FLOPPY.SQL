DROP DATABASE IF EXISTS Floppy;
CREATE DATABASE Floppy DEFAULT CHARACTER SET utf8;
USE Floppy;

CREATE TABLE CAR(
	id_car MEDIUMINT AUTO_INCREMENT,
	let_car VARCHAR(100) NOT NULL,
	est_car BIT,
	PRIMARY KEY (id_car)
);
CREATE TABLE HABITANTE(
	id_usu MEDIUMINT AUTO_INCREMENT,
	nom_usu VARCHAR(100) NOT NULL,
	pas_usu VARCHAR(100) NOT NULL,
	id_car MEDIUMINT NOT NULL,
	mar_car VARCHAR(100) NOT NULL,
	PRIMARY KEY (id_usu),
	FOREIGN KEY (id_car) REFERENCES CAR(id_car) ON DELETE CASCADE,	
);
CREATE TABLE ADMIN(
	id_adm MEDIUMINT AUTO_INCREMENT,
	nom_adm VARCHAR(100) NOT NULL,
	pas_adm VARCHAR(100) NOT NULL,
	cor_adm VARCHAR(100) NOT NULL,
	id_usu MEDIUMINT,
	PRIMARY KEY (id_adm),
);
CREATE TABLE FRACCIONAMIENTO(
	id_fra MEDIUMINT AUTO_INCREMENT,
	dir_fra VARCHAR(100) NOT NULL,
	cap_fra INT NOT NULL,
	id_adm MEDIUMINT,
	id_usu MEDIUMINT,
	PRIMARY KEY (id_fra),
	FOREIGN KEY (id_car) REFERENCES FRACCIONAMIENTO(id_cfra) ON DELETE CASCADE,	
	FOREIGN KEY (id_fra) REFERENCES FRACCIONAMIENTO(id_fra) ON DELETE CASCADE
);